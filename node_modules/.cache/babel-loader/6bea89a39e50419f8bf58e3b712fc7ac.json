{"ast":null,"code":"var _jsxFileName = \"/Users/shreya1821/Dev/Wcc_cricket/src/Components/Trips/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { reverse } from \"named-urls\";\nimport { deleteTrip, getTrips } from \"../../Controller/api/trip.Service\";\nconst {\n  Content\n} = Layout;\n\nclass Trips extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = id => {\n      deleteTrip(id).then(res => {\n        this.setState({\n          trips: this.state.trips.filter(trip => trip._id !== id)\n        });\n      }).catch(err => {\n        console.log(err, 'err');\n      });\n    };\n\n    this.state = {\n      trips: [],\n      isFetching: true\n    };\n  }\n\n  componentDidMount() {\n    getTrips().then(res => {\n      this.setState({\n        trips: res.data.response.trips\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  }\n\n  render() {\n    const columns = [{\n      title: 'Trip Name',\n      dataIndex: 'name',\n      key: 'name'\n    }, {\n      title: 'Category',\n      dataIndex: 'category',\n      key: 'category',\n      render: text => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }\n      }, text.name)\n    }, {\n      title: 'Price',\n      dataIndex: 'price',\n      key: 'price'\n    }, {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      render: text => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 24\n        }\n      }, text ? \"Active\" : \"Inactive\")\n    }, {\n      title: 'To City',\n      dataIndex: 'toCity',\n      key: 'toCity'\n    }, {\n      title: 'From City',\n      dataIndex: 'fromCity',\n      key: 'fromCity'\n    }, {\n      title: 'Action',\n      key: 'action',\n      render: (text, record) => /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => {\n          history.push(reverse(routes.dashboard.trips.edit, {\n            id: record._id\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.handleDelete(record._id),\n        type: \"primary\",\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, \"Delete\"))\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      className: \"layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AdminHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      style: {\n        padding: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Trips\",\n      extra: /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => history.push(routes.dashboard.trips.create),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 38\n        }\n      }, \"Add Trip\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      columns: columns,\n      dataSource: this.state.trips,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default Trips;","map":{"version":3,"sources":["/Users/shreya1821/Dev/Wcc_cricket/src/Components/Trips/index.jsx"],"names":["React","Component","Card","Layout","Table","Space","Button","AdminHeader","routes","history","reverse","deleteTrip","getTrips","Content","Trips","constructor","props","handleDelete","id","then","res","setState","trips","state","filter","trip","_id","catch","err","console","log","isFetching","componentDidMount","data","response","render","columns","title","dataIndex","key","text","name","record","push","dashboard","edit","padding","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { reverse } from \"named-urls\";\nimport { deleteTrip, getTrips } from \"../../Controller/api/trip.Service\";\n\nconst {  Content } = Layout;\n\n\nclass Trips extends Component {\n\n\n  constructor(props){\n    super(props);\n    this.state = {\n      trips:[],\n      isFetching:true\n    }\n  }\n\n\n  componentDidMount(){\n    getTrips().then((res)=>{\n      this.setState({\n        trips:res.data.response.trips\n      })\n    }).catch((err)=>{\n      console.log(\"err\", err);\n    })\n  }\n\n  handleDelete=(id)=>{\n    deleteTrip(id).then(res=>{\n      this.setState({\n        trips: this.state.trips.filter(trip=> trip._id !== id)\n      })\n    }).catch(err=>{\n      console.log(err,'err')\n    })\n  }\n\n\n  render() {\n    const columns = [\n      {\n        title: 'Trip Name',\n        dataIndex: 'name',\n        key: 'name',\n      },\n      {\n        title: 'Category',\n        dataIndex: 'category',\n        key: 'category',\n        render:(text)=><div>{text.name}</div>\n      },\n      {\n        title: 'Price',\n        dataIndex: 'price',\n        key: 'price',\n      },\n      {\n        title: 'Status',\n        dataIndex: 'status',\n        key: 'status',\n        render:(text)=><div>{text? \"Active\" : \"Inactive\"}</div>\n      },\n      {\n        title: 'To City',\n        dataIndex: 'toCity',\n        key: 'toCity',\n      },\n      {\n        title: 'From City',\n        dataIndex: 'fromCity',\n        key: 'fromCity',\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        render: (text, record) => (\n        \n          <Space size=\"middle\">\n            <Button type=\"primary\" onClick={()=>{ history.push(reverse(routes.dashboard.trips.edit,{id:record._id}))}}>Edit</Button>\n            <Button onClick={()=>this.handleDelete(record._id)} type=\"primary\" danger>Delete</Button>\n          </Space>\n        ),\n      },\n    ];\n    return (\n      <React.Fragment>\n        <Layout className=\"layout\">\n          <AdminHeader/>\n          <Content style={{ padding: '20px' }}>\n          <Card title=\"Trips\" extra={<Button type=\"primary\" onClick={()=>history.push(routes.dashboard.trips.create)}>Add Trip</Button>}>\n              <Table columns={columns} dataSource={this.state.trips}/>\n            </Card>\n           \n          </Content>\n        </Layout>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Trips;\n"]},"metadata":{},"sourceType":"module"}