{"ast":null,"code":"var _jsxFileName = \"/Users/shreya1821/Dev/Wcc_cricket/src/Components/Categories/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { NavLink } from \"react-router-dom\";\nimport { reverse } from \"named-urls\";\nimport { getCategories, removeCategory } from \"../../Controller/api/category.Service\";\nconst {\n  Content\n} = Layout;\n\nclass Categories extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = id => {\n      removeCategory(id).then(res => {\n        this.setState({\n          categories: this.state.categories.filter(category => category._id !== id)\n        });\n      }).catch(err => {\n        console.log(err, 'err');\n      });\n    };\n\n    this.state = {\n      fetching: true,\n      categories: []\n    };\n  }\n\n  componentDidMount() {\n    getCategories().then(res => {\n      this.setState({\n        fetching: false,\n        categories: res.data.response.categories\n      });\n    }).catch(err => {\n      this.setState({\n        fetching: false\n      });\n    });\n  }\n\n  render() {\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      width: '20%'\n    }, {\n      title: 'Description',\n      dataIndex: 'description',\n      key: 'description'\n    }, {\n      title: 'Action',\n      key: 'action',\n      render: (text, record) => /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => {\n          history.push(reverse(routes.dashboard.categories.edit, {\n            id: record._id\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.handleDelete(record._id),\n        type: \"primary\",\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, \"Delete\"))\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      className: \"layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AdminHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      style: {\n        padding: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"site-layout-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Categories\",\n      extra: /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => history.push(routes.dashboard.categories.create),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 47\n        }\n      }, \"Add Category\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      loading: this.state.fetching,\n      columns: columns,\n      dataSource: this.state.categories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nexport default Categories;","map":{"version":3,"sources":["/Users/shreya1821/Dev/Wcc_cricket/src/Components/Categories/index.jsx"],"names":["React","Component","Card","Layout","Table","Space","Button","AdminHeader","routes","history","NavLink","reverse","getCategories","removeCategory","Content","Categories","constructor","props","handleDelete","id","then","res","setState","categories","state","filter","category","_id","catch","err","console","log","fetching","componentDidMount","data","response","render","columns","title","dataIndex","key","width","text","record","push","dashboard","edit","padding","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { NavLink } from \"react-router-dom\";\nimport { reverse } from \"named-urls\";\nimport { getCategories, removeCategory } from \"../../Controller/api/category.Service\";\n\nconst {  Content } = Layout;\n\n\n\nclass Categories extends Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      fetching:true,\n      categories:[]\n    }\n  }\n\n\n  componentDidMount(){\n\n    getCategories().then((res)=>{\n      this.setState({fetching:false,categories:res.data.response.categories})\n    }).catch((err)=>{\n      this.setState({fetching:false})\n    })\n    \n  }\n\n  handleDelete=(id)=>{\n    removeCategory(id).then(res=>{\n      this.setState({\n        categories: this.state.categories.filter(category=>category._id!==id)\n      })\n    }).catch(err=>{\n      console.log(err,'err')\n    })\n  }\n\n\n  render() {\n    const columns = [\n      {\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name',\n        width:'20%'\n      },\n      {\n        title: 'Description',\n        dataIndex: 'description',\n        key: 'description',\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        render: (text, record) => (\n        \n          <Space size=\"middle\">\n            <Button type=\"primary\" onClick={()=>{   history.push(reverse(routes.dashboard.categories.edit,{id:record._id}))}}>Edit</Button>\n            <Button onClick={()=>this.handleDelete(record._id)} type=\"primary\" danger>Delete</Button>\n          </Space>\n        ),\n      },\n    ];\n    return (\n      <React.Fragment>\n        <Layout className=\"layout\">\n          <AdminHeader/>\n          <Content style={{ padding: '20px' }}>\n            <div className=\"site-layout-content\">\n              <Card title=\"Categories\" extra={<Button type=\"primary\" onClick={()=>history.push(routes.dashboard.categories.create)}>Add Category</Button>}>\n                  <Table loading={this.state.fetching} columns={columns} dataSource={this.state.categories}/>\n              </Card>\n            </div>\n          </Content>\n        </Layout>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Categories;\n"]},"metadata":{},"sourceType":"module"}