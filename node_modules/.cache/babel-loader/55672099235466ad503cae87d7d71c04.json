{"ast":null,"code":"var _jsxFileName = \"/Users/shreya1821/Dev/Wcc_cricket/src/Components/Booking/index.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input, Progress, notification } from \"antd\";\nimport { Image as Images } from \"../Images\";\nimport { Link } from \"react-router-dom\";\nimport './index.scss';\nimport { PlusOutlined, MinusOutlined } from \"@ant-design/icons\";\nimport CustomFooter from \"../header-footer/CustomFooter\";\nimport CustomSidebar from '../Sidebar/CustomSidebar';\nimport { history } from '../../Controller/history';\nimport { routes } from '../../Controller/Routes';\nimport CustomHeader from \"../header-footer\";\nimport { map, forEach } from 'lodash';\nimport { createBooking, updateBooking } from '../../Controller/api/bookingService';\n\nconst openNotification = (placement, message, description) => {\n  notification.info({\n    message,\n    description,\n    placement\n  });\n};\n\nconst loadScript = src => {\n  return new Promise(resolve => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = () => {\n      resolve(true);\n    };\n\n    script.onerror = () => {\n      resolve(false);\n    };\n\n    document.body.appendChild(script);\n  });\n};\n\nclass Booking extends Component {\n  constructor(...args) {\n    super(...args);\n    this.formRef = React.createRef();\n    this.state = {\n      adult: 1,\n      kid: 1,\n      loading: false,\n      kid1: ''\n    };\n\n    this.onValuesChange = values => {\n      if ('kid1' in values) {\n        this.setState({\n          kid1: values['kid1']\n        });\n      }\n    };\n\n    this.calculateAmount = () => {\n      const {\n        trip\n      } = this.props.location.state;\n      const adultPrice = this.state.adult * trip.discountedPrice;\n      const kidPrice = this.state.kid > 1 || this.formRef.current && this.formRef.current.getFieldValue('kid1') ? this.state.kid * trip.kidPrice : 0;\n      const totalPeoplePrice = adultPrice + kidPrice;\n      const gst = 0.05 * totalPeoplePrice;\n      const total = trip.isInternational ? totalPeoplePrice + gst + gst : totalPeoplePrice + gst;\n      return {\n        gst: gst.toFixed(2),\n        total: total.toFixed(2)\n      };\n    };\n\n    this.onFinish = values => {\n      const {\n        batch,\n        trip\n      } = this.props.location.state;\n      this.setState({\n        loading: true\n      });\n      const adults = [];\n      const kids = [];\n      forEach(Object.keys(values), value => {\n        console.log(value, 'hee');\n\n        if (value.includes('adult')) {\n          adults.push(values[value]);\n        }\n\n        if (value.includes('kid') && values[value]) {\n          kids.push(values[value]);\n        }\n      });\n      const newValues = { ...values,\n        adults,\n        kids,\n        trip: trip._id,\n        batch,\n        amount: this.calculateAmount().total\n      };\n      createBooking(newValues).then(res => {\n        console.log(res, 'response');\n        let booking = res.data.response.booking;\n\n        const _ = this;\n\n        const options = {\n          key: \"rzp_test_VvNB31ZThygAyP\",\n          currency: \"INR\",\n          amount: booking.amount * 100,\n          order_id: booking.orderId,\n          name: \"Break Bag Travel\",\n          description: \"Transaction\",\n          image: \"http://breakbag.com/static/media/logo.38b01b9d.png\",\n          prefill: {\n            name: booking.name,\n            email: booking.email,\n            contact: booking.contact\n          },\n          handler: function (response) {\n            updateBooking({ ...booking,\n              razorpayPaymentId: response.razorpay_payment_id,\n              razorpayOrderId: response.razorpay_order_id,\n              status: 'success'\n            }, booking._id).then(res => {\n              _.setState({\n                loading: false\n              }, () => {\n                openNotification('bottomCenter', 'Booking created Successfully', \"Thanks for booking. You'll be recieving all the details!\");\n                history.push(routes.home);\n              });\n            }).catch(err => {\n              console.log(err);\n\n              _.setState({\n                loading: false\n              }, () => {\n                openNotification('bottomCenter', 'Booking created Successfully', \"There's something wrong at our end! Please contact us!\");\n              });\n            });\n          },\n          theme: {\n            color: \"#0f3362\"\n          }\n        };\n        const paymentObject = new window.Razorpay(options);\n        paymentObject.open();\n        paymentObject.on('payment.failed', function (response) {\n          updateBooking({ ...booking,\n            razorpayOrderId: response.error.metadata.order_id,\n            razorpayPaymentId: response.error.metadata.payment_id,\n            status: 'failed'\n          }, booking._id).then(res => {\n            _.setState({\n              loading: false\n            }, () => {\n              openNotification('bottomCenter', 'Payment Failed', \"Please Try again!\");\n            });\n          }).catch(err => {\n            console.log(err);\n\n            _.setState({\n              loading: false\n            }, () => {\n              openNotification('bottomCenter', 'Payment Failed', \"Please Try again!\");\n            });\n          });\n        });\n      }).catch(err => {\n        openNotification('bottomCenter', 'Booking Failed', \"Please try again later\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    var _this$props$location, _this$props$location$;\n\n    if (!((_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : (_this$props$location$ = _this$props$location.state) === null || _this$props$location$ === void 0 ? void 0 : _this$props$location$.batch)) {\n      history.push(routes.upcomingTrips);\n    }\n\n    loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n  }\n\n  render() {\n    if (!this.props.location.state) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const {\n      batch,\n      trip\n    } = this.props.location.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CustomSidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid booking-banner-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CustomHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row banner-all-details-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-7 col-xl-9 col-lg-7 col-md-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 33\n      }\n    }, \"Complete your booking\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 33\n      }\n    }, \"Fill in the form below to complete your booking\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0 progress-status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Images.check_circle,\n      alt: ' ',\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Images.check_circle,\n      alt: ' ',\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0 progress-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Progress, {\n      strokeColor: '#ea6c40',\n      percent: 50,\n      showInfo: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0 progress-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 41\n      }\n    }, \"Package Details\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, \"Traveller Details\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    }, \"Make Payment\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 37\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid booking-form-fluid common-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-8 col-xl-9 col-lg-8 col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 41\n      }\n    }, trip.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tag-static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 41\n      }\n    }, trip.duration), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"mb-0 list-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 45\n      }\n    }, \"Dates:\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 45\n      }\n    }, batch)), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"mb-0 list-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 45\n      }\n    }, \"Inclusions:\"), trip.inclusions.includes('flight') && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 84\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Images.flight_icon,\n      alt: '',\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 49\n      }\n    }, \"Flight\")), trip.inclusions.includes('hostel') && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 84\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Images.bed_icon,\n      alt: '',\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 49\n      }\n    }, \"Hostel\")), trip.inclusions.includes('food') && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 82\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Images.mug_hot_cuff,\n      alt: '',\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 49\n      }\n    }, \"Food\"))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"mb-0 list-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 45\n      }\n    }, \"From:\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 45\n      }\n    }, trip.fromCity))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n      name: \"basic\",\n      labelCol: {\n        span: 24\n      },\n      wrapperCol: {\n        span: 24\n      },\n      autoComplete: \"off\",\n      ref: this.formRef,\n      onFinish: this.onFinish,\n      requiredMark: false,\n      onValuesChange: this.onValuesChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mx-0 traveller-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 57\n      }\n    }, \"Traveller Information\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"ant-form ant-form-horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 65\n      }\n    }, map([...Array(this.state.adult)], (item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      key: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 85\n        }\n      }, \"Adult \", index + 1),\n      name: `adult${index + 1}`,\n      rules: [{\n        required: true,\n        message: 'Please enter Adult Name'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        adult: index === [...Array(this.state.adult)].length - 1 ? this.state.adult + 1 : this.state.adult - 1\n      }),\n      className: \"add-btn rounded-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 77\n      }\n    }, index === [...Array(this.state.adult)].length - 1 ? /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 134\n      }\n    }) : /*#__PURE__*/React.createElement(MinusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 153\n      }\n    }), index === [...Array(this.state.adult)].length - 1 ? \"Add\" : \"Remove\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 65\n      }\n    }, map([...Array(this.state.kid)], (item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      key: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 85\n        }\n      }, \"Kid \", index + 1),\n      name: `kid${index + 1}`,\n      rules: [{\n        required: this.state.kid > 1,\n        message: 'Please enter Kid name!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        kid: index === [...Array(this.state.kid)].length - 1 ? this.state.kid + 1 : this.state.kid - 1\n      }),\n      className: \"add-btn rounded-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 77\n      }\n    }, index === [...Array(this.state.kid)].length - 1 ? /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 132\n      }\n    }) : /*#__PURE__*/React.createElement(MinusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 151\n      }\n    }), index === [...Array(this.state.kid)].length - 1 ? \"Add\" : \"Remove\"))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mx-0 traveller-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 57\n      }\n    }, \"Please enter your contact details\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"ant-form ant-form-horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 77\n        }\n      }, \"Name\", /*#__PURE__*/React.createElement(\"sup\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 86\n        }\n      }, \"*\")),\n      name: \"name\",\n      rules: [{\n        required: true,\n        message: 'Please enter your name!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 77\n        }\n      }, \"Email Id\", /*#__PURE__*/React.createElement(\"sup\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 90\n        }\n      }, \"*\")),\n      name: \"email\",\n      rules: [{\n        required: true,\n        message: 'Please enter your email id!'\n      }, {\n        type: 'email',\n        message: 'Please enter valid email id!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter email',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 77\n        }\n      }, \"Contact No.\", /*#__PURE__*/React.createElement(\"sup\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 93\n        }\n      }, \"*\")),\n      name: \"contact\",\n      rules: [{\n        required: true,\n        message: 'Please enter your contact no'\n      }, {\n        pattern: new RegExp(/^(\\+\\d{1,3}[- ]?)?\\d{10}$/),\n        message: 'Please enter valid contact number'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter contact',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 77\n        }\n      }, \"Address\", /*#__PURE__*/React.createElement(\"sup\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 89\n        }\n      }, \"*\")),\n      name: \"address\",\n      rules: [{\n        required: true,\n        message: 'Please enter your address!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: 'Enter address',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 73\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Special Requests\",\n      name: \"request\",\n      rules: [{\n        required: false // message: 'Please input your username!'\n\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Input.TextArea, {\n      className: \"textArea\",\n      placeholder: 'Enter request',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 73\n      }\n    })))))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-sm-4 col-xl-3 col-lg-4 col-md-4 itn-mob-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mx-0 itinerary-request-offer-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row offer-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row offer-card-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"off-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 57\n      }\n    }, `${(((trip === null || trip === void 0 ? void 0 : trip.price) - (trip === null || trip === void 0 ? void 0 : trip.discountedPrice)) / (trip === null || trip === void 0 ? void 0 : trip.price) * 100).toFixed(2)}% off`), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 57\n      }\n    }, \"Grand Total\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", trip.discountedPrice, \"  \", /*#__PURE__*/React.createElement(\"sub\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 86\n      }\n    }, \"(Inclusive of all taxes)\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", trip.discountedPrice, \" x \", this.state.adult, \" Pax\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", this.state.adult * trip.discountedPrice)), (this.state.kid > 1 || this.formRef.current && this.formRef.current.getFieldValue('kid1')) && /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 150\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", trip.kidPrice, \" x \", this.state.kid, \" Kid\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", this.state.kid * trip.kidPrice)), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 57\n      }\n    }, \"GST (5.0%)\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", this.calculateAmount().gst)), trip.isInternational && /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 78\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 57\n      }\n    }, \"TCS (5.0%)\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 57\n      }\n    }, \"\\u20B9\", this.calculateAmount().gst)), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 99\n      }\n    }, \"Grand Total\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 99\n      }\n    }, \"\\u20B9\", this.calculateAmount().total))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      loading: this.state.loading,\n      onClick: () => this.formRef.current.submit(),\n      className: \"common-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 41\n      }\n    }, \"Pay Now\"))))))), /*#__PURE__*/React.createElement(CustomFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Booking;","map":{"version":3,"sources":["/Users/shreya1821/Dev/Wcc_cricket/src/Components/Booking/index.jsx"],"names":["React","Component","Button","Form","Input","Progress","notification","Image","Images","Link","PlusOutlined","MinusOutlined","CustomFooter","CustomSidebar","history","routes","CustomHeader","map","forEach","createBooking","updateBooking","openNotification","placement","message","description","info","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","Booking","formRef","createRef","state","adult","kid","loading","kid1","onValuesChange","values","setState","calculateAmount","trip","props","location","adultPrice","discountedPrice","kidPrice","current","getFieldValue","totalPeoplePrice","gst","total","isInternational","toFixed","onFinish","batch","adults","kids","Object","keys","value","console","log","includes","push","newValues","_id","amount","then","res","booking","data","response","_","options","key","currency","order_id","orderId","name","image","prefill","email","contact","handler","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","status","home","catch","err","theme","color","paymentObject","window","Razorpay","open","on","error","metadata","payment_id","componentDidMount","upcomingTrips","render","check_circle","duration","inclusions","flight_icon","bed_icon","mug_hot_cuff","fromCity","span","Array","item","index","position","required","length","type","pattern","RegExp","price","submit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Progress, notification } from \"antd\";\nimport { Image as Images } from \"../Images\";\nimport { Link } from \"react-router-dom\";\nimport './index.scss'\nimport { PlusOutlined, MinusOutlined } from \"@ant-design/icons\";\nimport CustomFooter from \"../header-footer/CustomFooter\";\nimport CustomSidebar from '../Sidebar/CustomSidebar';\nimport { history } from '../../Controller/history';\nimport { routes } from '../../Controller/Routes';\nimport CustomHeader from \"../header-footer\";\nimport { map, forEach } from 'lodash'\nimport { createBooking, updateBooking } from '../../Controller/api/bookingService';\nconst openNotification = (placement, message, description) => {\n    notification.info({\n        message,\n        description,\n        placement,\n    });\n};\nconst loadScript = (src) => {\n    return new Promise((resolve) => {\n        const script = document.createElement(\"script\");\n        script.src = src;\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            resolve(false);\n        };\n        document.body.appendChild(script);\n    });\n};\n\nclass Booking extends Component {\n    formRef = React.createRef()\n    state = {\n        adult: 1,\n        kid: 1,\n        loading: false,\n        kid1: ''\n    }\n    componentDidMount() {\n        if (!this.props.location?.state?.batch) {\n            history.push(routes.upcomingTrips)\n        }\n        loadScript(\"https://checkout.razorpay.com/v1/checkout.js\")\n    }\n    onValuesChange = (values) => {\n        if ('kid1' in values) {\n            this.setState({\n                kid1: values['kid1']\n            })\n        }\n    }\n    calculateAmount = () => {\n        const { trip } = this.props.location.state\n        const adultPrice = this.state.adult * trip.discountedPrice\n        const kidPrice = (this.state.kid > 1 || (this.formRef.current && this.formRef.current.getFieldValue('kid1'))) ? this.state.kid * trip.kidPrice : 0\n        const totalPeoplePrice = adultPrice + kidPrice\n        const gst = 0.05 * totalPeoplePrice\n        const total = trip.isInternational ? totalPeoplePrice + gst + gst : totalPeoplePrice + gst\n        return { gst: gst.toFixed(2), total: total.toFixed(2) }\n    }\n    onFinish = (values) => {\n        const { batch, trip } = this.props.location.state\n        this.setState({\n            loading: true\n        })\n        const adults = []\n        const kids = []\n        forEach(Object.keys(values), value => {\n            console.log(value, 'hee')\n            if (value.includes('adult')) {\n                adults.push(values[value])\n            }\n            if (value.includes('kid') && values[value]) {\n                kids.push(values[value])\n            }\n        })\n        const newValues = {\n            ...values,\n            adults,\n            kids,\n            trip: trip._id,\n            batch,\n            amount: this.calculateAmount().total\n        }\n        createBooking(newValues).then(res => {\n            console.log(res, 'response')\n            let booking = res.data.response.booking;\n            const _ = this;\n            const options = {\n                key: \"rzp_test_VvNB31ZThygAyP\",\n                currency: \"INR\",\n                amount: booking.amount * 100,\n                order_id: booking.orderId,\n                name: \"Break Bag Travel\",\n                description: \"Transaction\",\n                image: \"http://breakbag.com/static/media/logo.38b01b9d.png\",\n                prefill: {\n                    name: booking.name,\n                    email: booking.email,\n                    contact: booking.contact\n                },\n                handler: function (response) {\n                    updateBooking({\n                        ...booking,\n                        razorpayPaymentId: response.razorpay_payment_id,\n                        razorpayOrderId: response.razorpay_order_id,\n                        status: 'success'\n                    }, booking._id).then(res => {\n                        _.setState({\n                            loading: false\n                        }, () => {\n                            openNotification('bottomCenter', 'Booking created Successfully', \"Thanks for booking. You'll be recieving all the details!\");\n                            history.push(routes.home)\n                        })\n                    }).catch(err => {\n                        console.log(err)\n                        _.setState({\n                            loading: false\n                        }, () => {\n                            openNotification('bottomCenter', 'Booking created Successfully', \"There's something wrong at our end! Please contact us!\");\n                        })\n                    })\n                },\n                theme: {\n                    color: \"#0f3362\"\n                }\n\n            }\n            const paymentObject = new window.Razorpay(options);\n            paymentObject.open();\n            paymentObject.on('payment.failed', function (response){\n                updateBooking({\n                    ...booking,\n                    razorpayOrderId: response.error.metadata.order_id,\n                    razorpayPaymentId: response.error.metadata.payment_id,\n                    status: 'failed'\n                }, booking._id).then(res => {\n                    _.setState({\n                        loading: false\n                    }, () => {\n                        openNotification('bottomCenter', 'Payment Failed', \"Please Try again!\");\n                    })\n                }).catch(err => {\n                    console.log(err)\n                    _.setState({\n                        loading: false\n                    }, () => {\n                        openNotification('bottomCenter', 'Payment Failed', \"Please Try again!\");\n                    })\n                })\n        });\n        }).catch(err => {\n            openNotification('bottomCenter', 'Booking Failed', \"Please try again later\");\n        })\n    }\n    render() {\n        if (!this.props.location.state) {\n            return <div />\n        }\n        const { batch, trip } = this.props.location.state\n        return (\n            <>\n                <CustomSidebar />\n                <div className=\"container-fluid booking-banner-fluid\">\n                    <CustomHeader />\n                    <div className=\"container\">\n                        <div className=\"row banner-all-details-row align-items-center\">\n                            <div className=\"col-12 col-sm-7 col-xl-9 col-lg-7 col-md-7\">\n                                <h6>Complete your booking</h6>\n                                <p className=\"mb-0\">Fill in the form below to complete your booking</p>\n                            </div>\n                            <div className=\"col-12 col-sm-3\">\n                                <ul className=\"list-inline mb-0 progress-status\">\n                                    <li className=\"list-inline-item\">\n                                        <img src={Images.check_circle} alt={' '} className=\"img-fluid\" />\n                                    </li>\n                                    <li className=\"list-inline-item\">\n                                        <img src={Images.check_circle} alt={' '} className=\"img-fluid\" />\n                                    </li>\n\n                                </ul>\n                                <ul className=\"list-inline mb-0 progress-bar\">\n                                    <li className=\"list-inline-item\">\n                                        <Progress strokeColor={'#ea6c40'} percent={50} showInfo={false} />\n                                    </li>\n                                </ul>\n                                <ul className=\"list-inline mb-0 progress-text\">\n                                    <li className=\"list-inline-item\">\n                                        <span>\n                                            Package\n                                            Details\n                                        </span>\n                                    </li>\n                                    <li className=\"list-inline-item\">\n                                        <span>Traveller\n                                            Details</span>\n                                    </li>\n                                    <li className=\"list-inline-item\">\n                                        <span>Make Payment</span>\n                                    </li>\n                                </ul>\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"container-fluid booking-form-fluid common-bg\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-12 col-sm-8 col-xl-9 col-lg-8 col-md-8\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        <h5>{trip.name}</h5>\n                                        <div className=\"tag-static\">{trip.duration}</div>\n                                        <ul className=\"mb-0 list-inline\">\n                                            <li className=\"list-inline-item\">Dates:</li>\n                                            <li className=\"list-inline-item\">{batch}</li>\n                                        </ul>\n                                        <ul className=\"mb-0 list-inline\">\n                                            <li className=\"list-inline-item\">Inclusions:</li>\n                                            {trip.inclusions.includes('flight') && <li className=\"list-inline-item\">\n                                                <img src={Images.flight_icon} alt={''} className=\"img-fluid\" />\n                                                <span>Flight</span>\n                                            </li>}\n                                            {trip.inclusions.includes('hostel') && <li className=\"list-inline-item\">\n                                                <img src={Images.bed_icon} alt={''} className=\"img-fluid\" />\n                                                <span>Hostel</span>\n                                            </li>}\n                                            {trip.inclusions.includes('food') && <li className=\"list-inline-item\">\n                                                <img src={Images.mug_hot_cuff} alt={''} className=\"img-fluid\" />\n                                                <span>Food</span>\n                                            </li>}\n                                        </ul>\n                                        <ul className=\"mb-0 list-inline\">\n                                            <li className=\"list-inline-item\">From:</li>\n                                            <li className=\"list-inline-item\">{trip.fromCity}</li>\n                                        </ul>\n                                    </div>\n                                    <>\n                                        <Form\n                                            name=\"basic\"\n                                            labelCol={{ span: 24 }}\n                                            wrapperCol={{ span: 24 }}\n                                            autoComplete=\"off\"\n                                            ref={this.formRef}\n                                            onFinish={this.onFinish}\n                                            requiredMark={false}\n                                            onValuesChange={this.onValuesChange}\n                                        >\n                                            <div className=\"col-12\">\n                                                <div className=\"row mx-0 traveller-info\">\n                                                    <div className=\"col-12 p-0\">\n                                                        <h6>Traveller Information</h6>\n                                                        <div class=\"ant-form ant-form-horizontal\">\n                                                            <div className=\"row\">\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    {map([...Array(this.state.adult)], (item, index) => (\n                                                                        <div style={{ position: 'relative' }} key={item}>\n                                                                            <Form.Item\n                                                                                label={\n                                                                                    <div>Adult {index + 1}</div>\n                                                                                }\n                                                                                name={`adult${index + 1}`}\n                                                                                rules={[{\n                                                                                    required: true,\n                                                                                    message: 'Please enter Adult Name'\n                                                                                }]}\n                                                                            >\n                                                                                <Input placeholder={'Enter name'} />\n                                                                            </Form.Item>\n                                                                            <Button onClick={() => this.setState({\n                                                                                adult: index === [...Array(this.state.adult)].length - 1 ? this.state.adult + 1 : this.state.adult - 1\n                                                                            })} className=\"add-btn rounded-0\">\n                                                                                {index === [...Array(this.state.adult)].length - 1 ? <PlusOutlined /> : <MinusOutlined />}\n                                                                                {index === [...Array(this.state.adult)].length - 1 ? \"Add\" : \"Remove\"}\n                                                                            </Button>\n                                                                        </div>\n                                                                    ))}\n\n                                                                </div>\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    {map([...Array(this.state.kid)], (item, index) => (\n                                                                        <div style={{ position: 'relative' }} key={item}>\n                                                                            <Form.Item\n                                                                                label={\n                                                                                    <div>Kid {index + 1}</div>\n                                                                                }\n                                                                                name={`kid${index + 1}`}\n                                                                                rules={[{\n                                                                                    required: this.state.kid > 1,\n                                                                                    message: 'Please enter Kid name!'\n                                                                                }]}\n                                                                            >\n                                                                                <Input placeholder={'Enter name'} />\n                                                                            </Form.Item>\n                                                                            <Button onClick={() => this.setState({\n                                                                                kid: index === [...Array(this.state.kid)].length - 1 ? this.state.kid + 1 : this.state.kid - 1\n                                                                            })} className=\"add-btn rounded-0\">\n                                                                                {index === [...Array(this.state.kid)].length - 1 ? <PlusOutlined /> : <MinusOutlined />}\n                                                                                {index === [...Array(this.state.kid)].length - 1 ? \"Add\" : \"Remove\"}\n                                                                            </Button>\n                                                                        </div>\n                                                                    ))}\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-12\">\n                                                <div className=\"row mx-0 traveller-info\">\n                                                    <div className=\"col-12 p-0\">\n                                                        <h6>Please enter your contact details</h6>\n                                                        <div\n                                                            class=\"ant-form ant-form-horizontal\"\n                                                        >\n                                                            <div className=\"row\">\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    <Form.Item\n                                                                        label={\n                                                                            <div>Name<sup style={{ color: 'red' }}>*</sup></div>\n                                                                        }\n                                                                        name=\"name\"\n                                                                        rules={[{\n                                                                            required: true,\n                                                                            message: 'Please enter your name!'\n                                                                        }]}\n                                                                    >\n                                                                        <Input placeholder={'Enter name'} />\n                                                                    </Form.Item>\n                                                                </div>\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    <Form.Item\n                                                                        label={\n                                                                            <div>Email Id<sup style={{ color: 'red' }}>*</sup></div>\n                                                                        }\n                                                                        name=\"email\"\n                                                                        rules={[{\n                                                                            required: true,\n                                                                            message: 'Please enter your email id!'\n                                                                        }, {\n                                                                            type: 'email',\n                                                                            message: 'Please enter valid email id!'\n                                                                        }]}\n                                                                    >\n                                                                        <Input placeholder={'Enter email'} />\n                                                                    </Form.Item>\n                                                                </div>\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    <Form.Item\n                                                                        label={\n                                                                            <div>Contact No.<sup style={{ color: 'red' }}>*</sup></div>\n                                                                        }\n                                                                        name=\"contact\"\n                                                                        rules={[{\n                                                                            required: true,\n                                                                            message: 'Please enter your contact no'\n                                                                        }, {\n                                                                            pattern: new RegExp(/^(\\+\\d{1,3}[- ]?)?\\d{10}$/),\n                                                                            message: 'Please enter valid contact number'\n                                                                        }]}\n                                                                    >\n                                                                        <Input placeholder={'Enter contact'} />\n                                                                    </Form.Item>\n                                                                </div>\n\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    <Form.Item\n                                                                        label={\n                                                                            <div>Address<sup style={{ color: 'red' }}>*</sup></div>\n                                                                        }\n                                                                        name=\"address\"\n                                                                        rules={[{\n                                                                            required: true,\n                                                                            message: 'Please enter your address!'\n                                                                        }]}\n                                                                    >\n                                                                        <Input placeholder={'Enter address'} />\n                                                                    </Form.Item>\n                                                                </div>\n                                                                <div className=\"col-12 col-sm-6\">\n                                                                    <Form.Item\n                                                                        label='Special Requests'\n                                                                        name=\"request\"\n                                                                        rules={[{\n                                                                            required: false,\n                                                                            // message: 'Please input your username!'\n                                                                        }]}\n                                                                    >\n                                                                        <Input.TextArea className=\"textArea\" placeholder={'Enter request'} />\n                                                                    </Form.Item>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </Form>\n                                    </>\n                                </div>\n                            </div>\n                            <div className=\"col-12 col-sm-4 col-xl-3 col-lg-4 col-md-4 itn-mob-row\">\n                                <div className=\"row mx-0 itinerary-request-offer-row\">\n                                    <div className=\"col-12\">\n                                        <div className=\"row offer-inner\">\n                                            <div className=\"col-12\">\n                                                <div className=\"row offer-card-row\">\n                                                    <div className=\"col-12\">\n                                                        <div className=\"off-tag\">{`${(((trip?.price - trip?.discountedPrice) / trip?.price) * 100).toFixed(2)}% off`}</div>\n                                                        <h6>\n                                                            Grand Total\n                                                        </h6>\n                                                        <h5>{trip.discountedPrice}  <sub>(Inclusive of all taxes)</sub></h5>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-12 p-0\">\n                                                    <ul className=\"list-inline mb-0\">\n                                                        <li className=\"list-inline-item\">{trip.discountedPrice} x {this.state.adult} Pax</li>\n                                                        <li className=\"list-inline-item\">{this.state.adult * trip.discountedPrice}</li>\n                                                    </ul>\n                                                    {(this.state.kid > 1 || (this.formRef.current && this.formRef.current.getFieldValue('kid1'))) && <ul className=\"list-inline mb-0\">\n                                                        <li className=\"list-inline-item\">{trip.kidPrice} x {this.state.kid} Kid</li>\n                                                        <li className=\"list-inline-item\">{this.state.kid * trip.kidPrice}</li>\n                                                    </ul>}\n                                                    <ul className=\"list-inline mb-0\">\n                                                        <li className=\"list-inline-item\">GST (5.0%)</li>\n                                                        <li className=\"list-inline-item\">{this.calculateAmount().gst}</li>\n                                                    </ul>\n                                                    {trip.isInternational && <ul className=\"list-inline mb-0\">\n                                                        <li className=\"list-inline-item\">TCS (5.0%)</li>\n                                                        <li className=\"list-inline-item\">{this.calculateAmount().gst}</li>\n                                                    </ul>}\n                                                    <ul className=\"list-inline mb-0\">\n                                                        <li className=\"list-inline-item border-0\"><b>Grand Total</b></li>\n                                                        <li className=\"list-inline-item border-0\"><b>{this.calculateAmount().total}</b></li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-12\">\n                                        <Button loading={this.state.loading} onClick={() => this.formRef.current.submit()} className=\"common-btn\">Pay Now</Button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <CustomFooter />\n            </>\n        );\n    }\n}\n\nexport default Booking;"]},"metadata":{},"sourceType":"module"}