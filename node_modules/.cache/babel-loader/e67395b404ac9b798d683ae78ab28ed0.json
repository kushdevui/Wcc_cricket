{"ast":null,"code":"var _jsxFileName = \"/Users/shreya1821/Dev/Wcc_cricket/src/Components/Blogs/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { reverse } from \"named-urls\";\nimport { getBlogs, removeBlog } from \"../../Controller/api/blog.Service\";\nconst {\n  Content\n} = Layout;\n\nclass Blog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = id => {\n      removeBlog(id).then(res => {\n        this.setState({\n          blog: this.state.blog.filter(b => b._id !== id)\n        });\n      }).catch(err => {\n        console.log(err, 'err');\n      });\n    };\n\n    this.state = {\n      fetching: true,\n      blog: []\n    };\n  }\n\n  componentDidMount() {\n    getBlogs().then(res => {\n      this.setState({\n        fetching: false,\n        blog: res.data.response.blogs\n      });\n    }).catch(err => {\n      this.setState({\n        fetching: false\n      });\n    });\n  }\n\n  render() {\n    const columns = [{\n      title: 'Title',\n      dataIndex: 'title',\n      key: 'title',\n      width: '20%'\n    }, {\n      title: 'Sub Title',\n      dataIndex: 'subTitle',\n      key: 'subTitle'\n    }, {\n      title: 'Actions',\n      key: 'actions',\n      render: (text, record) => /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => {\n          history.push(reverse(routes.dashboard.blogs.edit, {\n            id: record._id\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.handleDelete(record._id),\n        type: \"primary\",\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, \"Delete\"))\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      className: \"layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AdminHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      style: {\n        padding: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"site-layout-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Testimonials\",\n      extra: /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => history.push(routes.dashboard.blogs.create),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 49\n        }\n      }, \"Add Blog\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      loading: this.state.fetching,\n      columns: columns,\n      dataSource: this.state.blog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nexport default Blog;","map":{"version":3,"sources":["/Users/shreya1821/Dev/Wcc_cricket/src/Components/Blogs/index.jsx"],"names":["React","Component","Card","Layout","Table","Space","Button","AdminHeader","routes","history","reverse","getBlogs","removeBlog","Content","Blog","constructor","props","handleDelete","id","then","res","setState","blog","state","filter","b","_id","catch","err","console","log","fetching","componentDidMount","data","response","blogs","render","columns","title","dataIndex","key","width","text","record","push","dashboard","edit","padding","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Layout, Table, Space, Button } from 'antd';\nimport './index.scss';\nimport AdminHeader from \"../AdminHeader\";\nimport { routes } from \"../../Controller/Routes\";\nimport { history } from \"../../Controller/history\";\nimport { reverse } from \"named-urls\";\nimport { getBlogs,removeBlog } from \"../../Controller/api/blog.Service\";\n\n\nconst {  Content } = Layout;\n\n\nclass Blog extends Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      fetching:true,\n      blog:[]\n    }\n  }\n\n\n  componentDidMount(){\n    getBlogs().then((res)=>{\n      this.setState({fetching:false,blog:res.data.response.blogs})\n    }).catch((err)=>{\n      this.setState({fetching:false})\n    })\n    \n  }\n\n\n  handleDelete=(id)=>{\n    removeBlog(id).then(res=>{\n      this.setState({\n        blog: this.state.blog.filter(b=>b._id!==id)\n      })\n    }).catch(err=>{\n      console.log(err,'err')\n    })\n  }\n\n\n\n\n  render() {\n    const columns = [\n      {\n        title: 'Title',\n        dataIndex: 'title',\n        key: 'title',\n        width:'20%'\n      },\n      {\n        title: 'Sub Title',\n        dataIndex: 'subTitle',\n        key: 'subTitle',\n      },\n      {\n        title: 'Actions',\n        key: 'actions',\n        render: (text, record) => (\n        \n          <Space size=\"middle\">\n            <Button type=\"primary\" onClick={()=>{   history.push(reverse(routes.dashboard.blogs.edit,{id:record._id}))}}>Edit</Button>\n            <Button onClick={()=>this.handleDelete(record._id)} type=\"primary\" danger>Delete</Button>\n          </Space>\n        ),\n      },\n    ];\n    return (\n      <React.Fragment>\n        <Layout className=\"layout\">\n          <AdminHeader/>\n          <Content style={{ padding: '20px' }}>\n            <div className=\"site-layout-content\">\n              <Card title=\"Testimonials\" extra={<Button type=\"primary\" onClick={()=>history.push(routes.dashboard.blogs.create)}>Add Blog</Button>}>\n                  <Table loading={this.state.fetching} columns={columns} dataSource={this.state.blog}/>\n              </Card>\n            </div>\n          </Content>\n        </Layout>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}